Started GET "/" for ::1 at 2019-11-06 09:17:43 -0600
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-5.0.7.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-5.0.7.2/lib/rails/templates/rails/welcome/index.html.erb (1.5ms)
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2019-11-06 09:22:43 -0600
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-5.0.7.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-5.0.7.2/lib/rails/templates/rails/welcome/index.html.erb (1.4ms)
Completed 200 OK in 9ms (Views: 3.4ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2019-11-06 09:27:21 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 381ms (Views: 375.2ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20191106155807)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar, "skip_confirm_change_password" boolean DEFAULT 'f', "tenant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_users_on_tenant_id" ON "users" ("tenant_id")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191106155807"]]
  [1m[35m (4.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddSessionsTable (20191106155808)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "sessions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "session_id" varchar NOT NULL, "data" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_sessions_on_session_id" ON "sessions" ("session_id")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_sessions_on_updated_at" ON "sessions" ("updated_at")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191106155808"]]
  [1m[35m (3.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTenants (20191106155809)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "tenants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tenant_id" integer, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_tenants_on_tenant_id" ON "tenants" ("tenant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_tenants_on_name" ON "tenants" ("name")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191106155809"]]
  [1m[35m (4.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTenantsUsersJoinTable (20191106155810)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "tenants_users" ("tenant_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_tenants_users_on_tenant_id_and_user_id" ON "tenants_users" ("tenant_id", "user_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191106155810"]]
  [1m[35m (3.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateMembers (20191106155811)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "members" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tenant_id" integer, "user_id" integer, "first_name" varchar, "last_name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_members_on_tenant_id" ON "members" ("tenant_id")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_members_on_user_id" ON "members" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191106155811"]]
  [1m[35m (3.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-11-06 16:00:00.469353"], ["updated_at", "2019-11-06 16:00:00.469353"]]
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/" for ::1 at 2019-11-06 10:12:53 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 462ms (Views: 462.0ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2019-11-06 10:14:07 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 254ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `bootstrap_flash' for #<#<Class:0x0000559a86c00cd0>:0x00007f3f31a1bf90>):
    59:     <div class="container">
    60:       <div class="row">
    61:         <div class="col-lg-9">
    62:           <%= bootstrap_flash %>
    63:           <%= yield %>
    64:         </div>
    65:         <div class="col-lg-3">
  
app/views/layouts/application.html.erb:62:in `_app_views_layouts_application_html_erb__481900757907321887_69954696204800'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.9ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (20.1ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/" for ::1 at 2019-11-06 10:14:28 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 500 Internal Server Error in 331ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `bootstrap_flash' for #<#<Class:0x000055e702e4d7b8>:0x000055e702e678c0>):
    59:     <div class="container">
    60:       <div class="row">
    61:         <div class="col-lg-9">
    62:           <%= bootstrap_flash %>
    63:           <%= yield %>
    64:         </div>
    65:         <div class="col-lg-3">
  
app/views/layouts/application.html.erb:62:in `_app_views_layouts_application_html_erb__3988759699775994578_47225337409740'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (12.5ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/" for ::1 at 2019-11-06 10:15:54 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 200ms (Views: 199.5ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 10:15:55 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.6ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [30 times] (4.1ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.3ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (17.2ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/" for ::1 at 2019-11-06 10:28:15 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 282ms (Views: 270.5ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 10:28:16 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.6ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [30 times] (8.9ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (10.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (29.9ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/" for ::1 at 2019-11-06 10:33:45 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 314ms (Views: 305.1ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 10:33:46 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [30 times] (6.4ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.8ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (24.1ms)
Started GET "/" for ::1 at 2019-11-06 10:38:21 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 63ms (Views: 61.6ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 10:38:22 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.6ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [30 times] (8.9ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (18.4ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddPlanToTenants (20191106164059)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "tenants" ADD "plan" varchar[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191106164059"]]
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/" for ::1 at 2019-11-06 10:48:11 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 199ms (Views: 190.0ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 10:48:11 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [30 times] (4.3ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.3ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (18.7ms)
Started GET "/users/sign_up" for ::1 at 2019-11-06 10:48:36 -0600
Processing by Milia::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (12.8ms)
Completed 200 OK in 52ms (Views: 34.8ms | ActiveRecord: 9.2ms)


Started GET "/users/sign_up" for ::1 at 2019-11-06 10:53:19 -0600
Processing by Milia::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (243.1ms)
Completed 500 Internal Server Error in 247ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `option_for_select' for #<#<Class:0x00007fc9807edc30>:0x00007fc9819fe618>
Did you mean?  options_for_select):
    30:     </div>
    31:     <div class="form-group col-md-6 no-right-padding">
    32:       <%= w.label :plan %>
    33:       <%= w.select :plan, option_for_select(Plan.options, params[:plan]), {}, required: true,
    34:           class: "form-control" %>
    35:     </div>
    36:   <% end %>
  
app/views/devise/registrations/new.html.erb:33:in `block (2 levels) in _app_views_devise_registrations_new_html_erb___4091229955419471239_70251719962080'
app/views/devise/registrations/new.html.erb:25:in `block in _app_views_devise_registrations_new_html_erb___4091229955419471239_70251719962080'
app/views/devise/registrations/new.html.erb:3:in `_app_views_devise_registrations_new_html_erb___4091229955419471239_70251719962080'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.4ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (9.4ms)
Started GET "/users/sign_up" for ::1 at 2019-11-06 10:53:29 -0600
Processing by Milia::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 39ms (Views: 38.0ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 10:53:30 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [30 times] (11.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (21.4ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/users/sign_up" for ::1 at 2019-11-06 10:57:53 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Milia::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (19.9ms)
Completed 200 OK in 272ms (Views: 249.6ms | ActiveRecord: 0.7ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 10:57:53 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [30 times] (3.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (14.1ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/users/sign_up" for ::1 at 2019-11-06 12:09:43 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Milia::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (17.6ms)
Completed 200 OK in 190ms (Views: 173.7ms | ActiveRecord: 0.4ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 12:09:44 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.6ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [29 times] (4.3ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (15.3ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started POST "/users" for ::1 at 2019-11-06 12:18:45 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Milia::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YOB07OQmdwwn3PICmwXy6dLKRDmCbWFvPwipQsXypwz/6ADSmuA1Q/72sfaQDfNcekEBQWvf4AZycxnmq4eEXA==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "tenant"=>{"name"=>"Test Company LLC", "plan"=>"free"}, "commit"=>"Sign up"}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? LIMIT ?[0m  [["name", "Test Company LLC"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tenants" ("name", "created_at", "updated_at", "plan") VALUES (?, ?, ?, ?)[0m  [["name", "Test Company LLC"], ["created_at", "2019-11-06 18:18:46.067922"], ["updated_at", "2019-11-06 18:18:46.067922"], ["plan", "free"]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "skip_confirm_change_password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "scott@example.com"], ["encrypted_password", "$2a$11$26EP48Gcsn6VyAHVoFIBY.wGqbKIJ47XVmrp9K02vTbiv5fo6b7E2"], ["confirmation_token", "DvCq422yDrGf5axEsBiz"], ["confirmation_sent_at", "2019-11-06 18:18:46.163704"], ["skip_confirm_change_password", "t"], ["created_at", "2019-11-06 18:18:46.163636"], ["updated_at", "2019-11-06 18:18:46.163636"]]
MILIA >>>>> [register user/org] devise: signup user success - 
Redirected to http://localhost:3001/
MILIA >>>>> [register user/org] signup user/tenant success - 
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 245ms (ActiveRecord: 1.2ms)


  
NoMethodError (undefined method `create_member' for #<User:0x000055f6d2745670>
Did you mean?  created_at):
  
app/models/member.rb:13:in `create_new_member'
app/models/member.rb:17:in `create_org_admin'
app/models/tenant.rb:44:in `tenant_signup'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (1.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (9.9ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/users/sign_up" for ::1 at 2019-11-06 12:21:50 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Milia::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (14.6ms)
Completed 200 OK in 180ms (Views: 166.3ms | ActiveRecord: 0.4ms)


Started POST "/users" for ::1 at 2019-11-06 12:22:07 -0600
Processing by Milia::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hgxs06AXEynoD+xaxt69iXJJ2JSrHn3PJsiudomn/pQZBBjt3tFRZjElr67N1rw82sKd7EKs/KZrsx7S59LdxA==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "tenant"=>{"name"=>"Test Company LLC", "plan"=>"free"}, "commit"=>"Sign up"}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? LIMIT ?[0m  [["name", "Test Company LLC"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tenants" ("name", "created_at", "updated_at", "plan") VALUES (?, ?, ?, ?)[0m  [["name", "Test Company LLC"], ["created_at", "2019-11-06 18:22:07.250084"], ["updated_at", "2019-11-06 18:22:07.250084"], ["plan", "free"]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "skip_confirm_change_password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "scott@example.com"], ["encrypted_password", "$2a$11$mXcs//ZUnfNlV0H6RlA7qOcLQ50ViNpLnM8mCKReTAGLuphhwtl8u"], ["confirmation_token", "s9fhf9xFQ2LLThx2RWa_"], ["confirmation_sent_at", "2019-11-06 18:22:07.349829"], ["skip_confirm_change_password", "t"], ["created_at", "2019-11-06 18:22:07.349732"], ["updated_at", "2019-11-06 18:22:07.349732"]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "tenants_users" ON "users"."id" = "tenants_users"."user_id" WHERE (users.tenant_id IS NULL) AND "tenants_users"."tenant_id" = ? AND "users"."id" = ? LIMIT ?[0m  [["tenant_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "scott@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "id" = ?, "email" = ?, "encrypted_password" = ?, "confirmation_token" = ?, "confirmation_sent_at" = ?, "skip_confirm_change_password" = ?, "created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["id", 1], ["email", "scott@example.com"], ["encrypted_password", "$2a$11$mXcs//ZUnfNlV0H6RlA7qOcLQ50ViNpLnM8mCKReTAGLuphhwtl8u"], ["confirmation_token", "s9fhf9xFQ2LLThx2RWa_"], ["confirmation_sent_at", "2019-11-06 18:22:07.349829"], ["skip_confirm_change_password", "t"], ["created_at", "2019-11-06 18:22:07.349732"], ["updated_at", "2019-11-06 18:22:07.349732"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tenants_users" ("tenant_id", "user_id") VALUES (?, ?)[0m  [["tenant_id", 1], ["user_id", 1]]
MILIA >>>>> [register user/org] devise: signup user success - 
Redirected to http://localhost:3001/
MILIA >>>>> [register user/org] signup user/tenant success - 
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "members" ("tenant_id", "user_id", "first_name", "last_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["tenant_id", 1], ["user_id", 1], ["first_name", "Admin"], ["last_name", "Please edit me"], ["created_at", "2019-11-06 18:22:07.377863"], ["updated_at", "2019-11-06 18:22:07.377863"]]
  [1m[36mMember Load (0.1ms)[0m  [1m[34mSELECT  "members".* FROM "members" WHERE (members.tenant_id = 1) AND "members"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/devise-4.7.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/devise-4.7.1/app/views/devise/mailer/confirmation_instructions.html.erb (0.4ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 114.3ms
Sent mail to scott@example.com (8.4ms)
Date: Wed, 06 Nov 2019 12:22:07 -0600
From: do-not-reply@example.com
Reply-To: do-not-reply@example.com
To: scott@example.com
Message-ID: <5dc30f4f7bf6c_47a62b1f6ab33b846742@siren02.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome scott@example.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3001/users/confirmation?confirmation_token=s9fhf9xFQ2LLThx2RWa_">Confirm my account</a></p>

Completed 302 Found in 374ms (ActiveRecord: 5.3ms)


Started GET "/" for ::1 at 2019-11-06 12:22:07 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 61ms (Views: 60.2ms | ActiveRecord: 0.0ms)


Started GET "/users/confirmation?confirmation_token=s9fhf9xFQ2LLThx2RWa_" for ::1 at 2019-11-06 12:22:50 -0600
Processing by ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"s9fhf9xFQ2LLThx2RWa_"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."confirmation_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["confirmation_token", "s9fhf9xFQ2LLThx2RWa_"], ["LIMIT", 1]]
MILIA >>>>> [confirm user] devise pass-thru - scott@example.com
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."confirmation_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["confirmation_token", "s9fhf9xFQ2LLThx2RWa_"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmed_at", "2019-11-06 18:22:50.102761"], ["updated_at", "2019-11-06 18:22:50.103137"], ["id", 1]]
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
Redirected to http://localhost:3001/
Completed 302 Found in 13ms (ActiveRecord: 3.5ms)


Started GET "/" for ::1 at 2019-11-06 12:22:50 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 28ms (Views: 25.6ms | ActiveRecord: 0.2ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 12:23:04 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"HZoJYSEwxLB0O7QPPx3CPyLTqPCA59PQuUs5JvxDRJSCkn1fX/aG/60R9/s0FcOKiljtiGlVUrn0MImCkjZnxA=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: 1
MILIA >>>>> [reset tenant] 
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2019-11-06 12:23:04 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 40ms (Views: 39.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2019-11-06 12:23:06 -0600
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 41ms (Views: 39.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2019-11-06 12:23:11 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WOoqC8Lh7Vpyp/yXBoyWSjD3xVQ6bhBKFracDHjuAavLsoheiMbYzTPsVRydRrlWoyyilwZLschUWdU6JV2JIQ==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 102ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2019-11-06 12:23:11 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 31ms (Views: 27.9ms | ActiveRecord: 0.3ms)


Started GET "/members/new" for ::1 at 2019-11-06 12:23:21 -0600
Processing by MembersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  Rendering members/new.html.erb within layouts/application
  Rendered members/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 32ms (Views: 27.8ms | ActiveRecord: 0.4ms)


Started POST "/members" for ::1 at 2019-11-06 12:23:35 -0600
Processing by MembersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UKBF5qq/mDy4KEPAFywibmNitdpMJm4DVQs4e5znvfKCfQFszHlJoV9QF5qovOYY8rofD1i6+x6SbsiZUCe68g==", "user"=>{"email"=>"joe@example.com"}, "member"=>{"first_name"=>"Joe", "last_name"=>"Smith"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND (lower(email) = 'joe@example.com')[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "joe@example.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "joe@example.com"], ["encrypted_password", "$2a$11$EW5mtPUxqh2JUgjugjFvbuMZthUYQgsR9AznTIDerdSOZvMQeU4.C"], ["confirmation_token", "y_F_WzqpLczG3da4xzi9"], ["confirmation_sent_at", "2019-11-06 18:23:35.450571"], ["created_at", "2019-11-06 18:23:35.450466"], ["updated_at", "2019-11-06 18:23:35.450466"]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "tenants_users" ON "users"."id" = "tenants_users"."user_id" WHERE (users.tenant_id IS NULL) AND "tenants_users"."tenant_id" = ? AND "users"."id" = ? LIMIT ?[0m  [["tenant_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "joe@example.com"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "id" = ?, "email" = ?, "encrypted_password" = ?, "confirmation_token" = ?, "confirmation_sent_at" = ?, "created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["id", 2], ["email", "joe@example.com"], ["encrypted_password", "$2a$11$EW5mtPUxqh2JUgjugjFvbuMZthUYQgsR9AznTIDerdSOZvMQeU4.C"], ["confirmation_token", "y_F_WzqpLczG3da4xzi9"], ["confirmation_sent_at", "2019-11-06 18:23:35.450571"], ["created_at", "2019-11-06 18:23:35.450466"], ["updated_at", "2019-11-06 18:23:35.450466"], ["id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tenants_users" ("tenant_id", "user_id") VALUES (?, ?)[0m  [["tenant_id", 1], ["user_id", 2]]
  [1m[35m (3.2ms)[0m  [1m[36mcommit transaction[0m
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/devise-4.7.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/devise-4.7.1/app/views/devise/mailer/confirmation_instructions.html.erb (0.4ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 6.4ms
Sent mail to joe@example.com (0.8ms)
Date: Wed, 06 Nov 2019 12:23:35 -0600
From: do-not-reply@example.com
Reply-To: do-not-reply@example.com
To: joe@example.com
Message-ID: <5dc30fa772665_47a62b1f6ab33c9c68dc@siren02.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome joe@example.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3001/users/confirmation?confirmation_token=y_F_WzqpLczG3da4xzi9">Confirm my account</a></p>

  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "members" ("tenant_id", "user_id", "first_name", "last_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["tenant_id", 1], ["user_id", 2], ["first_name", "Joe"], ["last_name", "Smith"], ["created_at", "2019-11-06 18:23:35.469971"], ["updated_at", "2019-11-06 18:23:35.469971"]]
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMember Load (0.1ms)[0m  [1m[34mSELECT  "members".* FROM "members" WHERE (members.tenant_id = 1) AND "members"."user_id" = ? LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 127ms (ActiveRecord: 7.9ms)


Started GET "/" for ::1 at 2019-11-06 12:23:35 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 26ms (Views: 24.5ms | ActiveRecord: 0.2ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 12:23:45 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Sxz+QFWSMFeiYc5QIds/vjl/sD8NGvdXnJdOaakbGBKZwbrKM1ThykUZmgqeS/vIqKca6hmGYkpb8r6LZdsfEg=="}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: 1
MILIA >>>>> [reset tenant] 
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2019-11-06 12:23:45 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 47ms (Views: 46.5ms | ActiveRecord: 0.0ms)


Started GET "/users/confirmation?confirmation_token=y_F_WzqpLczG3da4xzi9" for ::1 at 2019-11-06 12:24:44 -0600
Processing by ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"y_F_WzqpLczG3da4xzi9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."confirmation_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["confirmation_token", "y_F_WzqpLczG3da4xzi9"], ["LIMIT", 1]]
MILIA >>>>> [confirm user] password set form - joe@example.com
  Rendering devise/confirmations/show.html.erb within layouts/application
  Rendered devise/confirmations/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 33ms (Views: 29.5ms | ActiveRecord: 0.3ms)


Started PUT "/user/confirmation" for ::1 at 2019-11-06 12:25:06 -0600
Processing by ConfirmationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kYVjyjerCJqdEdj75w5oQ4AAlPnklLfdHYPsrolKOEv31PyEyMYRdqluDsdVQrgFKYYUuaBxcqursTchcVt0jA==", "confirmation_token"=>"y_F_WzqpLczG3da4xzi9", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Password"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."confirmation_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["confirmation_token", "y_F_WzqpLczG3da4xzi9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "encrypted_password" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["encrypted_password", "$2a$11$ZMgXZv9gMnsGwvRcM.Zs7ucZkDS2pF1ukJolWjqTXmoHe9WE2aVEy"], ["updated_at", "2019-11-06 18:25:06.564012"], ["id", 2]]
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."confirmation_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["confirmation_token", "y_F_WzqpLczG3da4xzi9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmed_at", "2019-11-06 18:25:06.570394"], ["updated_at", "2019-11-06 18:25:06.570641"], ["id", 2]]
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
MILIA >>>>> [confirm user] invitee confirmed - joe@example.com
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
Redirected to http://localhost:3001/
Completed 302 Found in 111ms (ActiveRecord: 7.0ms)


Started GET "/" for ::1 at 2019-11-06 12:25:06 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.2ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 12:25:15 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"PyuSt12NVAK9WZ0CjRjeBexuc67igqIHTg7GIWhfVUNZeg35ouBN7okmSz4/VA5DRejz7qZnZ3H4PB2ukE4ZhA=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: 1
MILIA >>>>> [reset tenant] 
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2019-11-06 12:25:15 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 29ms (Views: 28.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2019-11-06 12:25:18 -0600
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 30ms (Views: 29.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2019-11-06 12:25:23 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Bmh+FHiNh6hX3Bp4w+aw2DzWQrYFcnGPzZalf+85ashllm1FKkuTY0t5Vj7MqIWWTjDnxxHONmCdpoe/OC22DA==", "user"=>{"email"=>"joe@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "joe@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 109ms (ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2019-11-06 12:25:23 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 0.3ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 12:25:27 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"V5tkZe0ZBWx5IkoKKw+LijqrdAVeQgTOujMt8HBBUKdfPyMX91nW5r90FRRcBt7toAKwsIe3b5Ioy9zBhtA+ag=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: 1
MILIA >>>>> [reset tenant] 
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2019-11-06 12:25:27 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 31ms (Views: 30.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2019-11-06 12:25:31 -0600
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 31ms (Views: 29.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2019-11-06 12:25:37 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"istgBE/0aZY3T7cDdgJliUVQZ0Lpl1xQ2pGxuFkkU55DjCCxXbxYaG+n9kS2VERXSS/IbO/ShWDQzyGmFjKkRg==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: 1
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 101ms (ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2019-11-06 12:25:37 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 26ms (Views: 23.7ms | ActiveRecord: 0.3ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 12:26:20 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"atTt/MjYPnY9O+1W93mgaJWQAERVYaBmbv/1bk+H8m59X+3TUMsOIkNeQS9jHOkLi0Af6WgCt6eVnjR5hMXcxA=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2019-11-06 12:26:20 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 32ms (Views: 31.3ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateProjects (20191106182801)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "projects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "details" varchar, "expected_completion_date" date, "tenant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_projects_on_tenant_id" ON "projects" ("tenant_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191106182801"]]
  [1m[35m (5.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
Started GET "/users/sign_in" for ::1 at 2019-11-06 12:29:10 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 148ms (Views: 140.9ms | ActiveRecord: 0.4ms)


Started POST "/users/sign_in" for ::1 at 2019-11-06 12:29:16 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DmiMK5eEMREO2HuKt2rOK2Vuy/O+W0vSoiqr7ZO5eIPsqI1ZCpFI5ebGkAhw67UmsaX15qH4d3Pi+V4nFs7eyg==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 114ms (ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2019-11-06 12:29:16 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 35ms (Views: 22.6ms | ActiveRecord: 1.0ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 12:29:59 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"UMdhIxjKwtGfuAXK1zGOQ4M0CgDjKgonauK7Dp8LkI3WXKd8gjA3HhgdKA9vblZ9hTWtP5BDlPQRbNNCN4Yf8A=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2019-11-06 12:29:59 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/users/sign_in" for ::1 at 2019-11-06 12:57:55 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (20.3ms)
Completed 200 OK in 311ms (Views: 293.1ms | ActiveRecord: 0.6ms)


Started POST "/users/sign_in" for ::1 at 2019-11-06 12:58:01 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jXEKethOo30IG+yogwzWWi7UZNpzLDqfeFIbk1LJlX+naSmDU1ripHaiVt+tvHmLo4O4WXIRVlGJxUKm/xREwQ==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 105ms (ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2019-11-06 12:58:01 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 48ms (ActiveRecord: 1.0ms)


  
NoMethodError (undefined method `by_user_plan_and_tenant' for #<Class:0x00005596fb979d38>
Did you mean?  by_plan_and_tenant):
  
app/controllers/home_controller.rb:13:in `index'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (1.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (12.2ms)
Started GET "/" for ::1 at 2019-11-06 12:59:01 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 61ms (Views: 38.6ms | ActiveRecord: 1.7ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 12:59:01 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [45 times] (7.2ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.1ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (31.9ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mTenant Load (2.0ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL)[0m
Started GET "/tenants/1/projects/new" for ::1 at 2019-11-06 13:08:16 -0600
Processing by ProjectsController#new as HTML
  Parameters: {"tenant_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering projects/new.html.erb within layouts/application
  Rendered projects/_form.html.erb (2.5ms)
  Rendered projects/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 38ms (Views: 30.0ms | ActiveRecord: 1.2ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/tenants/1/projects/new" for ::1 at 2019-11-06 13:13:38 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProjectsController#new as HTML
  Parameters: {"tenant_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering projects/new.html.erb within layouts/application
  Rendered projects/_form.html.erb (7.7ms)
  Rendered projects/new.html.erb within layouts/application (18.7ms)
Completed 200 OK in 699ms (Views: 664.1ms | ActiveRecord: 1.3ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 13:13:39 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [45 times] (17.1ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (28.7ms)
Started DELETE "/users/sign_out" for ::1 at 2019-11-06 13:13:50 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"PpzxjY/iwRTZtwiiGBOxG8mZLE0tdpMm2/eysTb3glplhsP0uGiFCBEgTcq+OYZCvwfQ1U4PmyyDNAGBTwSRAg=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2019-11-06 13:13:50 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 84ms (Views: 81.1ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/users/sign_in" for ::1 at 2019-11-06 13:19:38 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (16.5ms)
Completed 200 OK in 302ms (Views: 286.5ms | ActiveRecord: 0.4ms)


Started POST "/users/sign_in" for ::1 at 2019-11-06 13:19:43 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"klOk8AXOMHK63EA1YNA4BO9YAf8KjUCqm164r8avG37mYQbgCews2rCi2mbj/2im/KzQbM1kfyyMozqlxj0cBw==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 105ms (ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2019-11-06 13:19:43 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 180ms (Views: 152.5ms | ActiveRecord: 1.1ms)


Started GET "/tenants/1/projects/1" for ::1 at 2019-11-06 13:19:58 -0600
Processing by ProjectsController#show as HTML
  Parameters: {"tenant_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 6ms (ActiveRecord: 0.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Project with 'id'=1):
  
app/controllers/projects_controller.rb:65:in `set_project'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (1.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (10.2ms)
Started GET "/tenants/1/projects/new" for ::1 at 2019-11-06 13:20:03 -0600
Processing by ProjectsController#new as HTML
  Parameters: {"tenant_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering projects/new.html.erb within layouts/application
  Rendered projects/_form.html.erb (2.1ms)
  Rendered projects/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 102ms (Views: 96.2ms | ActiveRecord: 0.4ms)


Started POST "/tenants/1/projects" for ::1 at 2019-11-06 13:20:16 -0600
Processing by ProjectsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OPNGbik9OyzvTdA5d0i/2YCYCfQ0O5KIPadb18SqpuzDmLz4Zo4rBBUbN3lyMjh6/3j/Fc6hJiXWE3lBSNh3yg==", "project"=>{"title"=>"New project", "details"=>"Test new project", "expected_completion_date"=>"2019-11-29", "tenant_id"=>"1"}, "commit"=>"Create Project", "tenant_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProject Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "projects" WHERE "projects"."title" = ? LIMIT ?[0m  [["title", "New project"], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "projects" ("title", "details", "expected_completion_date", "tenant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New project"], ["details", "Test new project"], ["expected_completion_date", "2019-11-29"], ["tenant_id", 1], ["created_at", "2019-11-06 19:20:16.708023"], ["updated_at", "2019-11-06 19:20:16.708023"]]
  [1m[35m (3.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 14ms (ActiveRecord: 4.0ms)


Started GET "/" for ::1 at 2019-11-06 13:20:16 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 83ms (Views: 79.8ms | ActiveRecord: 0.3ms)


Started GET "/tenants/1/projects/1" for ::1 at 2019-11-06 13:20:27 -0600
Processing by ProjectsController#show as HTML
  Parameters: {"tenant_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering projects/show.html.erb within layouts/application
  Rendered projects/show.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms)


  
SyntaxError (/home/srlane/Notes/ruby-projects/rails-projects/saas-project/app/views/projects/show.html.erb:28: syntax error, unexpected ensure, expecting ')'
          ensure
          ^~~~~~
/home/srlane/Notes/ruby-projects/rails-projects/saas-project/app/views/projects/show.html.erb:30: syntax error, unexpected end, expecting ')'
          end
          ^~~):
  
app/views/projects/show.html.erb:28: syntax error, unexpected ensure, expecting ')'
app/views/projects/show.html.erb:30: syntax error, unexpected end, expecting ')'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.1ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (11.3ms)
Started GET "/tenants/1/projects/1" for ::1 at 2019-11-06 13:21:18 -0600
Processing by ProjectsController#show as HTML
  Parameters: {"tenant_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering projects/show.html.erb within layouts/application
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered projects/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 93ms (Views: 89.3ms | ActiveRecord: 0.5ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 13:21:18 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [45 times] (5.0ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (15.6ms)
Started GET "/" for ::1 at 2019-11-06 13:23:02 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  Rendered projects/_list.html.erb (2.2ms)
  Rendered home/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 98ms (Views: 93.2ms | ActiveRecord: 0.7ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 13:27:27 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vsKVjN9bN2t4MZRDozO4lkEjSuCzaflAyyQEKx4V1wpFqW8akOgnQ4JncwOmST81PsO8AUnzTe0gkCa9kmcGLA=="}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: 1
MILIA >>>>> [reset tenant] 
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2019-11-06 13:27:27 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 96ms (Views: 95.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2019-11-06 13:27:37 -0600
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 78ms (Views: 76.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2019-11-06 13:27:50 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ixx+sAbBqDf43+IavhzrV4m4IYqQIuL45lOSquryXYga4U+QSfmMjjIbAYByOsBzg9g115lmHnztTsBFSoZQ1A==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: 1
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 127ms (ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2019-11-06 13:27:51 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  Rendered projects/_list.html.erb (15.1ms)
  Rendered home/index.html.erb within layouts/application (15.7ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `can_create_project?' for #<Tenant:0x00007f635851d390>
Did you mean?  can_create_projects?):
    37:   <p class="lead">You don't have any projects.</p>
    38: <% end %>
    39: 
    40: <% if (@tenant.can_create_project?) %>
    41:   <%= link_to 'New Project', new_tenant_project_path(tenant_id: @tenant.id), :class => 'btn btn-primary' %>
    42: <% end %>
  
app/views/projects/_list.html.erb:40:in `_app_views_projects__list_html_erb__1176532537721747915_70032330271100'
app/views/home/index.html.erb:3:in `_app_views_home_index_html_erb___984306226955179324_70032330222320'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.4ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (9.1ms)
Started GET "/" for ::1 at 2019-11-06 13:28:11 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.3ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (2.9ms)
  Rendered home/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 87ms (Views: 79.2ms | ActiveRecord: 1.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 13:28:11 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [45 times] (8.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (22.9ms)
Started DELETE "/tenants/1/projects/1" for ::1 at 2019-11-06 13:28:28 -0600
Processing by ProjectsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Xne6kOMmKyxLEeVzZPum3F1cQZjdsK0yJKum74PDB0ppJpMLs5JN4rQXZmxLzjP9F+X71yIZCEvNrDvQU9ukRQ==", "tenant_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "projects" WHERE "projects"."id" = ?[0m  [["id", 1]]
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 10ms (ActiveRecord: 5.8ms)


Started GET "/" for ::1 at 2019-11-06 13:28:28 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (2.2ms)
  Rendered home/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 85ms (Views: 82.2ms | ActiveRecord: 0.4ms)


Started GET "/tenants/1/projects/new" for ::1 at 2019-11-06 13:28:30 -0600
Processing by ProjectsController#new as HTML
  Parameters: {"tenant_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.3ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering projects/new.html.erb within layouts/application
  Rendered projects/_form.html.erb (4.3ms)
  Rendered projects/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 107ms (Views: 98.7ms | ActiveRecord: 1.3ms)


Started POST "/tenants/1/projects" for ::1 at 2019-11-06 13:28:35 -0600
Processing by ProjectsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"odKQ16DzA0SeIzV3tZoeZnDoXe+SjED/32eh6BN8uQmWg7lM8EdlimEltmiar4tHOlHnoG0l5YY2YDzXw2QaBg==", "project"=>{"title"=>"New project", "details"=>"Test new project", "expected_completion_date"=>"2019-11-29", "tenant_id"=>"1"}, "commit"=>"Create Project", "tenant_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProject Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "projects" WHERE "projects"."title" = ? LIMIT ?[0m  [["title", "New project"], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "projects" ("title", "details", "expected_completion_date", "tenant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New project"], ["details", "Test new project"], ["expected_completion_date", "2019-11-29"], ["tenant_id", 1], ["created_at", "2019-11-06 19:28:35.590724"], ["updated_at", "2019-11-06 19:28:35.590724"]]
  [1m[35m (3.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 11ms (ActiveRecord: 4.0ms)


Started GET "/" for ::1 at 2019-11-06 13:28:35 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (3.0ms)
  Rendered home/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 89ms (Views: 85.8ms | ActiveRecord: 0.6ms)


Started DELETE "/tenants/1/projects/2" for ::1 at 2019-11-06 13:28:39 -0600
Processing by ProjectsController#destroy as HTML
  Parameters: {"authenticity_token"=>"S9SQl9+knXScnsUi50+uSIHdQ2UPBzIC4F4NYoUmm7d8hbkMjxD7umOYRj3Iejtpy2T5KvCul3sJWZBdVT44uA==", "tenant_id"=>"1", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "projects" WHERE "projects"."id" = ?[0m  [["id", 2]]
  [1m[35m (3.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 8ms (ActiveRecord: 4.0ms)


Started GET "/" for ::1 at 2019-11-06 13:28:39 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (2.4ms)
  Rendered home/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 74ms (Views: 71.4ms | ActiveRecord: 0.4ms)


Started GET "/tenants/1/projects/new" for ::1 at 2019-11-06 13:28:40 -0600
Processing by ProjectsController#new as HTML
  Parameters: {"tenant_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering projects/new.html.erb within layouts/application
  Rendered projects/_form.html.erb (1.5ms)
  Rendered projects/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 90ms (Views: 86.5ms | ActiveRecord: 0.4ms)


Started POST "/tenants/1/projects" for ::1 at 2019-11-06 13:28:46 -0600
Processing by ProjectsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"g8Z3esLAzpXIKSkEXVBMj6KEaWf0XTGVEoJAkybLFx+0l17hknSoWzcvqhtyZdmu6D3TKAv0lOz7hd2s9tO0EA==", "project"=>{"title"=>"New project", "details"=>"Test new project", "expected_completion_date"=>"2019-11-29", "tenant_id"=>"1"}, "commit"=>"Create Project", "tenant_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProject Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "projects" WHERE "projects"."title" = ? LIMIT ?[0m  [["title", "New project"], ["LIMIT", 1]]
  [1m[36mTenant Load (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "projects" ("title", "details", "expected_completion_date", "tenant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New project"], ["details", "Test new project"], ["expected_completion_date", "2019-11-29"], ["tenant_id", 1], ["created_at", "2019-11-06 19:28:46.139303"], ["updated_at", "2019-11-06 19:28:46.139303"]]
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 11ms (ActiveRecord: 3.8ms)


Started GET "/" for ::1 at 2019-11-06 13:28:46 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (3.2ms)
  Rendered home/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 86ms (Views: 83.4ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 13:28:47 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"kWhE2e6yJhlrAN5NvdGpZJYIrxOfFfKa/6WT1VJcS2+mOW1CvgZA15QGXVKS5DxF3LEVXGC8V+MWog7qgkToYA=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: 1
MILIA >>>>> [reset tenant] 
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2019-11-06 13:28:47 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 80ms (Views: 78.8ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateArtifacts (20191106193121)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "artifacts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "key" varchar, "project_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_artifacts_on_project_id" ON "artifacts" ("project_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191106193121"]]
  [1m[35m (5.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/" for ::1 at 2019-11-06 15:08:58 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 516ms (Views: 506.2ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 15:08:59 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [53 times] (9.3ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (8.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (31.5ms)
Started GET "/users/sign_in" for ::1 at 2019-11-06 15:09:05 -0600
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (25.2ms)
Completed 200 OK in 109ms (Views: 100.8ms | ActiveRecord: 0.5ms)


Started POST "/users/sign_in" for ::1 at 2019-11-06 15:09:10 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pKnmv6Xhq96PV8lo5nom9ZI16/UkAAuoQBBItqi/s21ENuLWuj7BFnbnfjvlY1BB/ngwTMOipOiQGfugPEpkug==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 109ms (ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2019-11-06 15:09:10 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (14.0ms)
  Rendered home/index.html.erb within layouts/application (14.7ms)
Completed 200 OK in 162ms (Views: 111.4ms | ActiveRecord: 2.0ms)


Started GET "/tenants/1/projects/3" for ::1 at 2019-11-06 15:09:13 -0600
Processing by ProjectsController#show as HTML
  Parameters: {"tenant_id"=>"1", "id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering projects/show.html.erb within layouts/application
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mArtifact Load (0.1ms)[0m  [1m[34mSELECT "artifacts".* FROM "artifacts" WHERE "artifacts"."project_id" = ?[0m  [["project_id", 3]]
  Rendered artifacts/_list.html.erb (2.2ms)
  Rendered projects/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 116ms (Views: 110.8ms | ActiveRecord: 0.7ms)


Started GET "/artifacts/new?project_id=3" for ::1 at 2019-11-06 15:09:19 -0600
  
SyntaxError (/home/srlane/Notes/ruby-projects/rails-projects/saas-project/app/controllers/artifacts_controller.rb:61: syntax error, unexpected '}', expecting ')'
... was successfully destroyed.' }
...                              ^
/home/srlane/Notes/ruby-projects/rails-projects/saas-project/app/controllers/artifacts_controller.rb:63: syntax error, unexpected end, expecting '}'
    end
    ^~~
/home/srlane/Notes/ruby-projects/rails-projects/saas-project/app/controllers/artifacts_controller.rb:76: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/artifacts_controller.rb:61: syntax error, unexpected '}', expecting ')'
app/controllers/artifacts_controller.rb:63: syntax error, unexpected end, expecting '}'
app/controllers/artifacts_controller.rb:76: syntax error, unexpected end-of-input, expecting end
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.2ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (11.3ms)
Started GET "/artifacts/new?project_id=3" for ::1 at 2019-11-06 15:09:51 -0600
Processing by ArtifactsController#new as HTML
  Parameters: {"project_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  Rendering artifacts/new.html.erb within layouts/application
  Rendered artifacts/_form.html.erb (52.5ms)
  Rendered artifacts/new.html.erb within layouts/application (53.7ms)
Completed 200 OK in 157ms (Views: 131.5ms | ActiveRecord: 1.6ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 15:09:52 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.6ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [53 times] (7.9ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (18.7ms)
Started POST "/artifacts" for ::1 at 2019-11-06 15:11:08 -0600
Processing by ArtifactsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JdB57B4OSov0VfkkKFblB87BJhgZIfy7iTIyUznwL/+gLDaDmucw0jlchv54RNzDwPfmCLQ9G8mVODP03f9EIQ==", "artifact"=>{"name"=>"Testing new artifact", "upload"=>#<ActionDispatch::Http::UploadedFile:0x00007f96e1ee87f0 @tempfile=#<Tempfile:/tmp/RackMultipart20191106-16138-qljn9j.ico>, @original_filename="favicon.ico", @content_type="image/vnd.microsoft.icon", @headers="Content-Disposition: form-data; name=\"artifact[upload]\"; filename=\"favicon.ico\"\r\nContent-Type: image/vnd.microsoft.icon\r\n">, "project_id"=>"3"}, "commit"=>"Create Artifact"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mArtifact Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "artifacts" WHERE "artifacts"."name" = ? LIMIT ?[0m  [["name", "Testing new artifact"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 3136ms (ActiveRecord: 0.8ms)


  
NoMethodError (undefined method `match' for nil:NilClass):
  
app/models/artifact.rb:18:in `new'
app/models/artifact.rb:18:in `upload_to_s3'
app/controllers/artifacts_controller.rb:31:in `block in create'
app/controllers/artifacts_controller.rb:30:in `create'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (12.0ms)
Started POST "/artifacts" for ::1 at 2019-11-06 15:14:03 -0600
Processing by ArtifactsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JdB57B4OSov0VfkkKFblB87BJhgZIfy7iTIyUznwL/+gLDaDmucw0jlchv54RNzDwPfmCLQ9G8mVODP03f9EIQ==", "artifact"=>{"name"=>"Testing new artifact", "upload"=>#<ActionDispatch::Http::UploadedFile:0x00007f96d44b9a98 @tempfile=#<Tempfile:/tmp/RackMultipart20191106-16138-49y4fa.ico>, @original_filename="favicon.ico", @content_type="image/vnd.microsoft.icon", @headers="Content-Disposition: form-data; name=\"artifact[upload]\"; filename=\"favicon.ico\"\r\nContent-Type: image/vnd.microsoft.icon\r\n">, "project_id"=>"3"}, "commit"=>"Create Artifact"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mArtifact Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "artifacts" WHERE "artifacts"."name" = ? LIMIT ?[0m  [["name", "Testing new artifact"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 3024ms (ActiveRecord: 1.5ms)


  
Aws::Sigv4::Errors::MissingCredentialsError (missing credentials, provide credentials with one of the following options:
  - :access_key_id and :secret_access_key
  - :credentials
  - :credentials_provider):
  
app/models/artifact.rb:18:in `new'
app/models/artifact.rb:18:in `upload_to_s3'
app/controllers/artifacts_controller.rb:31:in `block in create'
app/controllers/artifacts_controller.rb:30:in `create'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (11.9ms)
Started POST "/artifacts" for ::1 at 2019-11-06 15:17:07 -0600
Processing by ArtifactsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JdB57B4OSov0VfkkKFblB87BJhgZIfy7iTIyUznwL/+gLDaDmucw0jlchv54RNzDwPfmCLQ9G8mVODP03f9EIQ==", "artifact"=>{"name"=>"Testing new artifact", "upload"=>#<ActionDispatch::Http::UploadedFile:0x00007f96e159e960 @tempfile=#<Tempfile:/tmp/RackMultipart20191106-16138-r0eja.ico>, @original_filename="favicon.ico", @content_type="image/vnd.microsoft.icon", @headers="Content-Disposition: form-data; name=\"artifact[upload]\"; filename=\"favicon.ico\"\r\nContent-Type: image/vnd.microsoft.icon\r\n">, "project_id"=>"3"}, "commit"=>"Create Artifact"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mArtifact Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "artifacts" WHERE "artifacts"."name" = ? LIMIT ?[0m  [["name", "Testing new artifact"], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 474ms (ActiveRecord: 1.4ms)


  
ArgumentError (header authorization has field value "AWS4-HMAC-SHA256 Credential=AKIAJ5G3GOM45MORYVDQ\n/20191106/us-east-2/s3/aws4_request, SignedHeaders=content-md5;expect;host;user-agent;x-amz-acl;x-amz-content-sha256;x-amz-date, Signature=2fe680540e888eecb17600859ac0d4185e4c9930958197ab787914002724ad3d", this cannot include CR/LF):
  
app/models/artifact.rb:28:in `upload_to_s3'
app/controllers/artifacts_controller.rb:31:in `block in create'
app/controllers/artifacts_controller.rb:30:in `create'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (10.2ms)
Started GET "/images/favicon.ico" for ::1 at 2019-11-06 15:19:12 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [53 times] (6.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (16.6ms)
Started POST "/artifacts" for ::1 at 2019-11-06 15:19:24 -0600
Processing by ArtifactsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JdB57B4OSov0VfkkKFblB87BJhgZIfy7iTIyUznwL/+gLDaDmucw0jlchv54RNzDwPfmCLQ9G8mVODP03f9EIQ==", "artifact"=>{"name"=>"Testing new artifact", "project_id"=>"3"}, "commit"=>"Create Artifact"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mArtifact Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "artifacts" WHERE "artifacts"."name" = ? LIMIT ?[0m  [["name", "Testing new artifact"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering artifacts/new.html.erb within layouts/application
  Rendered artifacts/_form.html.erb (2.1ms)
  Rendered artifacts/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 88ms (Views: 81.9ms | ActiveRecord: 0.6ms)


Started POST "/artifacts" for ::1 at 2019-11-06 15:19:32 -0600
Processing by ArtifactsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Qcn/Zij9n89cvt+Wt9tNIRNGNau3KIg9mnUddsMh9XLENbAJrBTllpG3oEznyXTlHXD1uxo0b0+GfxzRJy6erA==", "artifact"=>{"name"=>"Testing new artifact", "upload"=>#<ActionDispatch::Http::UploadedFile:0x00007f96d49e6f48 @tempfile=#<Tempfile:/tmp/RackMultipart20191106-16138-196bnrf.jpg>, @original_filename="rhUhZ.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"artifact[upload]\"; filename=\"rhUhZ.jpg\"\r\nContent-Type: image/jpeg\r\n">, "project_id"=>"3"}, "commit"=>"Create Artifact"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mArtifact Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "artifacts" WHERE "artifacts"."name" = ? LIMIT ?[0m  [["name", "Testing new artifact"], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 242ms (ActiveRecord: 0.9ms)


  
ArgumentError (header authorization has field value "AWS4-HMAC-SHA256 Credential=AKIAJ5G3GOM45MORYVDQ\n/20191106/us-east-2/s3/aws4_request, SignedHeaders=content-md5;expect;host;user-agent;x-amz-acl;x-amz-content-sha256;x-amz-date, Signature=a241fa60d6da13b18aa419410d9d11a8fd8fe68acb1ea06f2f4246de28063388", this cannot include CR/LF):
  
app/models/artifact.rb:28:in `upload_to_s3'
app/controllers/artifacts_controller.rb:31:in `block in create'
app/controllers/artifacts_controller.rb:30:in `create'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (10.0ms)
Started POST "/artifacts" for ::1 at 2019-11-06 15:20:34 -0600
Processing by ArtifactsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Qcn/Zij9n89cvt+Wt9tNIRNGNau3KIg9mnUddsMh9XLENbAJrBTllpG3oEznyXTlHXD1uxo0b0+GfxzRJy6erA==", "artifact"=>{"name"=>"Testing new artifact", "upload"=>#<ActionDispatch::Http::UploadedFile:0x00007f96d4477468 @tempfile=#<Tempfile:/tmp/RackMultipart20191106-16138-176uwvz.jpg>, @original_filename="rhUhZ.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"artifact[upload]\"; filename=\"rhUhZ.jpg\"\r\nContent-Type: image/jpeg\r\n">, "project_id"=>"3"}, "commit"=>"Create Artifact"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mArtifact Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "artifacts" WHERE "artifacts"."name" = ? LIMIT ?[0m  [["name", "Testing new artifact"], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.5ms)


  
NameError (uninitialized constant Artifact::NAME):
  
app/models/artifact.rb:27:in `upload_to_s3'
app/controllers/artifacts_controller.rb:31:in `block in create'
app/controllers/artifacts_controller.rb:30:in `create'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (10.8ms)
Started POST "/artifacts" for ::1 at 2019-11-06 15:20:55 -0600
Processing by ArtifactsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Qcn/Zij9n89cvt+Wt9tNIRNGNau3KIg9mnUddsMh9XLENbAJrBTllpG3oEznyXTlHXD1uxo0b0+GfxzRJy6erA==", "artifact"=>{"name"=>"Testing new artifact", "upload"=>#<ActionDispatch::Http::UploadedFile:0x00007f96e1856c20 @tempfile=#<Tempfile:/tmp/RackMultipart20191106-16138-1jeykfl.jpg>, @original_filename="rhUhZ.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"artifact[upload]\"; filename=\"rhUhZ.jpg\"\r\nContent-Type: image/jpeg\r\n">, "project_id"=>"3"}, "commit"=>"Create Artifact"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mArtifact Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "artifacts" WHERE "artifacts"."name" = ? LIMIT ?[0m  [["name", "Testing new artifact"], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 222ms (ActiveRecord: 1.5ms)


  
ArgumentError (header authorization has field value "AWS4-HMAC-SHA256 Credential=AKIAJ5G3GOM45MORYVDQ\n/20191106/us-east-2/s3/aws4_request, SignedHeaders=content-md5;expect;host;user-agent;x-amz-acl;x-amz-content-sha256;x-amz-date, Signature=abec31da27f1069fe9f3f5c4f3ffa9d9510c29715c05f5803a04a2424bcd8574", this cannot include CR/LF):
  
app/models/artifact.rb:30:in `upload_to_s3'
app/controllers/artifacts_controller.rb:31:in `block in create'
app/controllers/artifacts_controller.rb:30:in `create'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (12.6ms)
Started POST "/artifacts" for ::1 at 2019-11-06 15:21:54 -0600
Processing by ArtifactsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Qcn/Zij9n89cvt+Wt9tNIRNGNau3KIg9mnUddsMh9XLENbAJrBTllpG3oEznyXTlHXD1uxo0b0+GfxzRJy6erA==", "artifact"=>{"name"=>"Testing new artifact", "upload"=>#<ActionDispatch::Http::UploadedFile:0x00007f96e17cf1a8 @tempfile=#<Tempfile:/tmp/RackMultipart20191106-16138-111nxgu.jpg>, @original_filename="rhUhZ.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"artifact[upload]\"; filename=\"rhUhZ.jpg\"\r\nContent-Type: image/jpeg\r\n">, "project_id"=>"3"}, "commit"=>"Create Artifact"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mArtifact Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "artifacts" WHERE "artifacts"."name" = ? LIMIT ?[0m  [["name", "Testing new artifact"], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 225ms (ActiveRecord: 1.5ms)


  
ArgumentError (header authorization has field value "AWS4-HMAC-SHA256 Credential=AKIAJ5G3GOM45MORYVDQ\n/20191106/us-east-2/s3/aws4_request, SignedHeaders=content-md5;expect;host;user-agent;x-amz-acl;x-amz-content-sha256;x-amz-date, Signature=f96fe1a3d287ad865c4d25563acb7397f4b0fab9aee6f19df5036a68d4ace29d", this cannot include CR/LF):
  
app/models/artifact.rb:30:in `upload_to_s3'
app/controllers/artifacts_controller.rb:31:in `block in create'
app/controllers/artifacts_controller.rb:30:in `create'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.4ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (10.1ms)
Started POST "/artifacts" for ::1 at 2019-11-06 15:24:27 -0600
Processing by ArtifactsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Qcn/Zij9n89cvt+Wt9tNIRNGNau3KIg9mnUddsMh9XLENbAJrBTllpG3oEznyXTlHXD1uxo0b0+GfxzRJy6erA==", "artifact"=>{"name"=>"Testing new artifact", "upload"=>#<ActionDispatch::Http::UploadedFile:0x00007f96f00114e8 @tempfile=#<Tempfile:/tmp/RackMultipart20191106-16138-1ej5d4x.jpg>, @original_filename="rhUhZ.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"artifact[upload]\"; filename=\"rhUhZ.jpg\"\r\nContent-Type: image/jpeg\r\n">, "project_id"=>"3"}, "commit"=>"Create Artifact"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mArtifact Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "artifacts" WHERE "artifacts"."name" = ? LIMIT ?[0m  [["name", "Testing new artifact"], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "artifacts" ("name", "key", "project_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Testing new artifact"], ["key", "https://srlsaasbucket.s3.us-east-2.amazonaws.com/Test%20Company%20LLC/rhUhZ.jpg"], ["project_id", 3], ["created_at", "2019-11-06 21:24:27.751498"], ["updated_at", "2019-11-06 21:24:27.751498"]]
  [1m[35m (3.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/tenants/1/projects/3
Completed 302 Found in 679ms (ActiveRecord: 4.6ms)


Started GET "/tenants/1/projects/3" for ::1 at 2019-11-06 15:24:27 -0600
Processing by ProjectsController#show as HTML
  Parameters: {"tenant_id"=>"1", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering projects/show.html.erb within layouts/application
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mArtifact Load (0.1ms)[0m  [1m[34mSELECT "artifacts".* FROM "artifacts" WHERE "artifacts"."project_id" = ?[0m  [["project_id", 3]]
  Rendered artifacts/_list.html.erb (2.9ms)
  Rendered projects/show.html.erb within layouts/application (5.8ms)
Completed 200 OK in 89ms (Views: 75.8ms | ActiveRecord: 1.3ms)


Started GET "/artifacts/new?project_id=3" for ::1 at 2019-11-06 15:24:55 -0600
Processing by ArtifactsController#new as HTML
  Parameters: {"project_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  Rendering artifacts/new.html.erb within layouts/application
  Rendered artifacts/_form.html.erb (1.4ms)
  Rendered artifacts/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 107ms (Views: 87.3ms | ActiveRecord: 1.3ms)


Started POST "/artifacts" for ::1 at 2019-11-06 15:25:04 -0600
Processing by ArtifactsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3/sj25HaVDT5U3rA5GTFyQ4+vIZZyvGvRvCAAJnhW2daB2y0FTMubTRaBRq0dvwNAAh8lvTWFt1a+oGnfe4wuQ==", "artifact"=>{"name"=>"Testing new artifact 2", "upload"=>#<ActionDispatch::Http::UploadedFile:0x00007f96d4886ce8 @tempfile=#<Tempfile:/tmp/RackMultipart20191106-16138-16mests.ico>, @original_filename="favicon.ico", @content_type="image/vnd.microsoft.icon", @headers="Content-Disposition: form-data; name=\"artifact[upload]\"; filename=\"favicon.ico\"\r\nContent-Type: image/vnd.microsoft.icon\r\n">, "project_id"=>"3"}, "commit"=>"Create Artifact"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mArtifact Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "artifacts" WHERE "artifacts"."name" = ? LIMIT ?[0m  [["name", "Testing new artifact 2"], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "artifacts" ("name", "key", "project_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Testing new artifact 2"], ["key", "https://srlsaasbucket.s3.us-east-2.amazonaws.com/Test%20Company%20LLC/favicon.ico"], ["project_id", 3], ["created_at", "2019-11-06 21:25:04.515676"], ["updated_at", "2019-11-06 21:25:04.515676"]]
  [1m[35m (5.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/tenants/1/projects/3
Completed 302 Found in 423ms (ActiveRecord: 6.4ms)


Started GET "/tenants/1/projects/3" for ::1 at 2019-11-06 15:25:04 -0600
Processing by ProjectsController#show as HTML
  Parameters: {"tenant_id"=>"1", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.3ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering projects/show.html.erb within layouts/application
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mArtifact Load (0.1ms)[0m  [1m[34mSELECT "artifacts".* FROM "artifacts" WHERE "artifacts"."project_id" = ?[0m  [["project_id", 3]]
  Rendered artifacts/_list.html.erb (4.2ms)
  Rendered projects/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 116ms (Views: 95.7ms | ActiveRecord: 2.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayments (20191106214241)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "token" varchar, "tenant_id_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_payments_on_tenant_id_id" ON "payments" ("tenant_id_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191106214241"]]
  [1m[35m (5.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payments_on_tenant_id_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payments_on_tenant_id_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payments_on_tenant_id_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payments_on_tenant_id_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayments (20191106214241)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "payments"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20191106214241"]]
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayments (20191106214241)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "token" varchar, "tenant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_payments_on_tenant_id" ON "payments" ("tenant_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191106214241"]]
  [1m[35m (4.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payments_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payments_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/images/favicon.ico" for ::1 at 2019-11-06 15:55:28 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.6ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [53 times] (17.0ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (9.3ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (7.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (52.1ms)
Started GET "/" for ::1 at 2019-11-06 15:55:35 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.7ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (34.7ms)
  Rendered home/index.html.erb within layouts/application (35.4ms)
Completed 200 OK in 532ms (Views: 491.0ms | ActiveRecord: 2.1ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 15:55:37 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"4El3k5Ia4ov5yGBTKD7Dpl2XbmHbIvMMBl4CoH4yXPNltTj8FvOY0jTBH4l4LPpiU6GucXY+FH4aVAMHmj03LQ=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2019-11-06 15:55:37 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 91ms (Views: 86.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up?plan=premium" for ::1 at 2019-11-06 15:55:40 -0600
Processing by Milia::RegistrationsController#new as HTML
  Parameters: {"plan"=>"premium"}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (16.2ms)
Completed 200 OK in 143ms (Views: 142.3ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/" for ::1 at 2019-11-06 16:57:57 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 479ms (Views: 469.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up?plan=free" for ::1 at 2019-11-06 16:58:00 -0600
Processing by Milia::RegistrationsController#new as HTML
  Parameters: {"plan"=>"free"}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (28.0ms)
Completed 200 OK in 166ms (Views: 155.2ms | ActiveRecord: 0.5ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/" for ::1 at 2019-11-06 16:59:11 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 425ms (Views: 414.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up?plan=free" for ::1 at 2019-11-06 16:59:14 -0600
Processing by Milia::RegistrationsController#new as HTML
  Parameters: {"plan"=>"free"}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (26.4ms)
Completed 200 OK in 126ms (Views: 113.3ms | ActiveRecord: 0.7ms)


Started GET "/users/sign_up" for ::1 at 2019-11-06 16:59:48 -0600
Processing by Milia::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 108ms (Views: 106.7ms | ActiveRecord: 0.0ms)


Started GET "/users" for ::1 at 2019-11-06 16:59:49 -0600
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [53 times] (10.2ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (28.1ms)
Started GET "/" for ::1 at 2019-11-06 16:59:55 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 101ms (Views: 99.8ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/users/sign_up?plan=premium" for ::1 at 2019-11-06 17:23:04 -0600
Processing by RegistrationsController#new as HTML
  Parameters: {"plan"=>"premium"}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 126ms (Views: 106.9ms | ActiveRecord: 0.8ms)


Started POST "/users" for ::1 at 2019-11-06 17:24:04 -0600
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"j51FMarZm5LC8l02D/fRuzmK476nQ2SEmBZYmB3ixtdXuGu+3bMmDmdJvX01BkPfkum7bINWHD3wEGph9E1qag==", "user"=>{"email"=>"john@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "tenant"=>{"name"=>"Test Org LLC", "plan"=>"premium"}, "payment"=>{"card_number"=>"5555555555554444", "card_cvv"=>"111", "card_expires_month"=>"7", "card_expires_year"=>"2023"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? LIMIT ?[0m  [["name", "Test Org LLC"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tenants" ("name", "created_at", "updated_at", "plan") VALUES (?, ?, ?, ?)[0m  [["name", "Test Org LLC"], ["created_at", "2019-11-06 23:24:04.936348"], ["updated_at", "2019-11-06 23:24:04.936348"], ["plan", "premium"]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "tenants_users" ON "users"."id" = "tenants_users"."user_id" WHERE (users.tenant_id IS NULL) AND "tenants_users"."tenant_id" = ?[0m  [["tenant_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "tenants_users" WHERE "tenants_users"."tenant_id" = ? AND 1=0[0m  [["tenant_id", 2]]
  [1m[36mMember Load (0.1ms)[0m  [1m[34mSELECT "members".* FROM "members" WHERE (members.tenant_id = NULL) AND "members"."tenant_id" = ?[0m  [["tenant_id", 2]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "tenants_users" WHERE "tenants_users"."tenant_id" = ?[0m  [["tenant_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "tenants" WHERE "tenants"."id" = ?[0m  [["id", 2]]
MILIA >>>>> [register user/org] Payment failed - 
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.4ms)
  [1m[35m (5.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 932ms (Views: 97.4ms | ActiveRecord: 7.3ms)


Started GET "/users/sign_up" for ::1 at 2019-11-06 17:26:08 -0600
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 163ms (Views: 160.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2019-11-06 17:27:12 -0600
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 206ms (Views: 204.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2019-11-06 17:27:33 -0600
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cdjjlHfW7siKrMzAw8xFo4eI/NUmkR1c2YYXWA+e4tap/c0bALxTVC8XLIv5PdfHLOukBwKEZeWxgCWh5jFOaw==", "user"=>{"email"=>"john@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "tenant"=>{"name"=>"Test Org LLC", "plan"=>"premium"}, "payment"=>{"card_expires_month"=>"6", "card_expires_year"=>"2023", "token"=>"tok_1FbxuTKcq08y3n4bYsymbmex"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? LIMIT ?[0m  [["name", "Test Org LLC"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tenants" ("name", "created_at", "updated_at", "plan") VALUES (?, ?, ?, ?)[0m  [["name", "Test Org LLC"], ["created_at", "2019-11-06 23:27:33.393789"], ["updated_at", "2019-11-06 23:27:33.393789"], ["plan", "premium"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "payments" ("email", "token", "tenant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["token", "tok_1FbxuTKcq08y3n4bYsymbmex"], ["tenant_id", 3], ["created_at", "2019-11-06 23:27:34.475998"], ["updated_at", "2019-11-06 23:27:34.475998"]]
MILIA >>>>> [change tenant] new: 3	old: %
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "skip_confirm_change_password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$11$RoCGwUQqGlkvcrKpt9aVSuTOoqUKMMKQDFEzzKbBP2CHr.REUKUM6"], ["confirmation_token", "QKJpzy_ywxzUKiGqePvG"], ["confirmation_sent_at", "2019-11-06 23:27:34.578736"], ["skip_confirm_change_password", "t"], ["created_at", "2019-11-06 23:27:34.578638"], ["updated_at", "2019-11-06 23:27:34.578638"]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "tenants_users" ON "users"."id" = "tenants_users"."user_id" WHERE (users.tenant_id IS NULL) AND "tenants_users"."tenant_id" = ? AND "users"."id" = ? LIMIT ?[0m  [["tenant_id", 3], ["id", 3], ["LIMIT", 1]]
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "id" = ?, "email" = ?, "encrypted_password" = ?, "confirmation_token" = ?, "confirmation_sent_at" = ?, "skip_confirm_change_password" = ?, "created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["id", 3], ["email", "john@example.com"], ["encrypted_password", "$2a$11$RoCGwUQqGlkvcrKpt9aVSuTOoqUKMMKQDFEzzKbBP2CHr.REUKUM6"], ["confirmation_token", "QKJpzy_ywxzUKiGqePvG"], ["confirmation_sent_at", "2019-11-06 23:27:34.578736"], ["skip_confirm_change_password", "t"], ["created_at", "2019-11-06 23:27:34.578638"], ["updated_at", "2019-11-06 23:27:34.578638"], ["id", 3]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tenants_users" ("tenant_id", "user_id") VALUES (?, ?)[0m  [["tenant_id", 3], ["user_id", 3]]
MILIA >>>>> [register user/org] devise: signup user success - 
Redirected to http://localhost:3001/
MILIA >>>>> [register user/org] signup user/tenant success - 
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "members" ("tenant_id", "user_id", "first_name", "last_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["tenant_id", 3], ["user_id", 3], ["first_name", "Admin"], ["last_name", "Please edit me"], ["created_at", "2019-11-06 23:27:34.591880"], ["updated_at", "2019-11-06 23:27:34.591880"]]
  [1m[36mMember Load (0.1ms)[0m  [1m[34mSELECT  "members".* FROM "members" WHERE (members.tenant_id = 3) AND "members"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/devise-4.7.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/devise-4.7.1/app/views/devise/mailer/confirmation_instructions.html.erb (0.4ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 118.2ms
Sent mail to john@example.com (5.8ms)
Date: Wed, 06 Nov 2019 17:27:34 -0600
From: do-not-reply@example.com
Reply-To: do-not-reply@example.com
To: john@example.com
Message-ID: <5dc356e6b1026_a222ab3a14cf3f47001c@siren02.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome john@example.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3001/users/confirmation?confirmation_token=QKJpzy_ywxzUKiGqePvG">Confirm my account</a></p>

Completed 302 Found in 1452ms (ActiveRecord: 6.5ms)


Started GET "/" for ::1 at 2019-11-06 17:27:34 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 87ms (Views: 85.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up?plan=premium" for ::1 at 2019-11-06 17:28:22 -0600
Processing by RegistrationsController#new as HTML
  Parameters: {"plan"=>"premium"}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.6ms)
Completed 200 OK in 156ms (Views: 151.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2019-11-06 17:28:43 -0600
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yuiF6pzxMfyAsIgzGb0rJRU/Zdhb6AZ5xh4mm9TjwgESzatl65uMYCULaHgjTLlBvlw9Cn/9fsCuGBRiPUxuvA==", "user"=>{"email"=>"john@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "tenant"=>{"name"=>"Test Org LLC", "plan"=>"premium"}, "payment"=>{"card_expires_month"=>"5", "card_expires_year"=>"2024", "token"=>"tok_1FbxvbKcq08y3n4bo2vrWWEJ"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? LIMIT ?[0m  [["name", "Test Org LLC"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
MILIA >>>>> [register user/org] tenant create failed - Name has already been taken
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.2ms)
MILIA >>>>> [change tenant] new: %	old: %
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
MILIA >>>>> [register user/org] devise: signup user success - Email has already been taken
MILIA >>>>> [register user/org] devise: signup user failure - Email has already been taken
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 307ms (Views: 92.8ms | ActiveRecord: 0.3ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/registrations_controller.rb:152:in `devise_create'
app/controllers/registrations_controller.rb:55:in `block in create'
app/controllers/registrations_controller.rb:28:in `create'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.4ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (10.8ms)
Started POST "/users" for ::1 at 2019-11-06 17:29:32 -0600
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yuiF6pzxMfyAsIgzGb0rJRU/Zdhb6AZ5xh4mm9TjwgESzatl65uMYCULaHgjTLlBvlw9Cn/9fsCuGBRiPUxuvA==", "user"=>{"email"=>"jim@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "tenant"=>{"name"=>"Test Org LLC", "plan"=>"premium"}, "payment"=>{"card_expires_month"=>"5", "card_expires_year"=>"2024", "token"=>"tok_1FbxwOKcq08y3n4bs3iEDxMf"}}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? LIMIT ?[0m  [["name", "Test Org LLC"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jim@example.com"], ["LIMIT", 1]]
MILIA >>>>> [register user/org] tenant create failed - Name has already been taken
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.1ms)
MILIA >>>>> [change tenant] new: %	old: %
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jim@example.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Redirected to 
Completed 500 Internal Server Error in 291ms (Views: 81.1ms | ActiveRecord: 0.3ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
actionpack (5.0.7.2) lib/action_controller/metal/redirecting.rb:63:in `redirect_to'
actionpack (5.0.7.2) lib/action_controller/metal/flash.rb:57:in `redirect_to'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:64:in `block in redirect_to'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.7.2) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:63:in `redirect_to'
actionpack (5.0.7.2) lib/action_controller/metal/redirecting.rb:90:in `redirect_back'
milia (1.3.1) lib/milia/control.rb:152:in `redirect_back'
milia (1.3.1) lib/milia/control.rb:145:in `invalid_tenant'
activesupport (5.0.7.2) lib/active_support/rescuable.rb:107:in `call'
activesupport (5.0.7.2) lib/active_support/rescuable.rb:107:in `block in handler_for_rescue'
activesupport (5.0.7.2) lib/active_support/rescuable.rb:91:in `rescue_with_handler'
activesupport (5.0.7.2) lib/active_support/rescuable.rb:164:in `rescue_with_handler'
actionpack (5.0.7.2) lib/action_controller/metal/rescue.rb:23:in `rescue in process_action'
actionpack (5.0.7.2) lib/action_controller/metal/rescue.rb:19:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.7.2) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (5.0.7.2) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.7.2) lib/abstract_controller/base.rb:126:in `process'
actionview (5.0.7.2) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.7.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.7.2) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
actionpack (5.0.7.2) lib/action_dispatch/routing/mapper.rb:46:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:727:in `call'
warden (1.2.8) lib/warden/manager.rb:36:in `block in call'
warden (1.2.8) lib/warden/manager.rb:34:in `catch'
warden (1.2.8) lib/warden/manager.rb:34:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.7.2) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (9.7ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/users/sign_up" for ::1 at 2019-11-06 17:30:03 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (45.1ms)
Completed 200 OK in 408ms (Views: 392.1ms | ActiveRecord: 0.3ms)


Started POST "/users" for ::1 at 2019-11-06 17:30:27 -0600
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bYBaAFC/utAF9kp1F6iJXxgPpNDYgziIWrE/qprgrC21pXSPJ9UHTKBNqj4tWRs7s2z8AvyWQDEytw1Tc08AkA==", "user"=>{"email"=>"jim@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "tenant"=>{"name"=>"Test Org LLC", "plan"=>"premium"}, "payment"=>{"card_expires_month"=>"4", "card_expires_year"=>"2024", "token"=>"tok_1FbxxHKcq08y3n4bXuK6enzb"}}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? LIMIT ?[0m  [["name", "Test Org LLC"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jim@example.com"], ["LIMIT", 1]]
MILIA >>>>> [register user/org] tenant create failed - Name has already been taken
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.6ms)
MILIA >>>>> [change tenant] new: %	old: %
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jim@example.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Redirected to 
Completed 500 Internal Server Error in 329ms (Views: 100.3ms | ActiveRecord: 0.7ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
actionpack (5.0.7.2) lib/action_controller/metal/redirecting.rb:63:in `redirect_to'
actionpack (5.0.7.2) lib/action_controller/metal/flash.rb:57:in `redirect_to'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:64:in `block in redirect_to'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.7.2) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:63:in `redirect_to'
actionpack (5.0.7.2) lib/action_controller/metal/redirecting.rb:90:in `redirect_back'
milia (1.3.1) lib/milia/control.rb:152:in `redirect_back'
milia (1.3.1) lib/milia/control.rb:145:in `invalid_tenant'
activesupport (5.0.7.2) lib/active_support/rescuable.rb:107:in `call'
activesupport (5.0.7.2) lib/active_support/rescuable.rb:107:in `block in handler_for_rescue'
activesupport (5.0.7.2) lib/active_support/rescuable.rb:91:in `rescue_with_handler'
activesupport (5.0.7.2) lib/active_support/rescuable.rb:164:in `rescue_with_handler'
actionpack (5.0.7.2) lib/action_controller/metal/rescue.rb:23:in `rescue in process_action'
actionpack (5.0.7.2) lib/action_controller/metal/rescue.rb:19:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.7.2) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (5.0.7.2) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.7.2) lib/abstract_controller/base.rb:126:in `process'
actionview (5.0.7.2) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.7.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.7.2) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
actionpack (5.0.7.2) lib/action_dispatch/routing/mapper.rb:46:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:727:in `call'
warden (1.2.8) lib/warden/manager.rb:36:in `block in call'
warden (1.2.8) lib/warden/manager.rb:34:in `catch'
warden (1.2.8) lib/warden/manager.rb:34:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.7.2) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (1.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (9.6ms)
Started GET "/users/sign_up" for ::1 at 2019-11-06 17:32:01 -0600
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 104ms (Views: 93.1ms | ActiveRecord: 1.0ms)


Started POST "/users" for ::1 at 2019-11-06 17:32:21 -0600
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gFTSp72jXpfJjmiKHujLtluzfs6x0CIsUPirCI9D1nJYcfwoysnjC2w1iMEkGVnS8NAmHJXFWpU4/pnxZux6zw==", "user"=>{"email"=>"jim@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "tenant"=>{"name"=>"Test Org LLC", "plan"=>"premium"}, "payment"=>{"card_expires_month"=>"6", "card_expires_year"=>"2023", "token"=>"tok_1Fbxz7Kcq08y3n4bTI6FtyKA"}}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? LIMIT ?[0m  [["name", "Test Org LLC"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jim@example.com"], ["LIMIT", 1]]
MILIA >>>>> [register user/org] tenant create failed - Name has already been taken
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.5ms)
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 206ms (Views: 95.8ms | ActiveRecord: 0.5ms)


Started GET "/users/sign_up" for ::1 at 2019-11-06 17:32:36 -0600
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 112ms (Views: 110.5ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2019-11-06 17:33:15 -0600
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nqcvC9+hVUIdkNUgHq0O9y+apgEU9uY7JkOjm1Gg7K5GggGEqMvo3rgrNWskXJyThPn+0zDjnoJORZFiuA9AEw==", "user"=>{"email"=>"jim@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "tenant"=>{"name"=>"Test Org LLC 2", "plan"=>"premium"}, "payment"=>{"card_expires_month"=>"6", "card_expires_year"=>"2023", "token"=>"tok_1FbxzzKcq08y3n4b6HBwuw7b"}}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? LIMIT ?[0m  [["name", "Test Org LLC 2"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tenants" ("name", "created_at", "updated_at", "plan") VALUES (?, ?, ?, ?)[0m  [["name", "Test Org LLC 2"], ["created_at", "2019-11-06 23:33:15.703870"], ["updated_at", "2019-11-06 23:33:15.703870"], ["plan", "premium"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("email", "token", "tenant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "jim@example.com"], ["token", "tok_1FbxzzKcq08y3n4b6HBwuw7b"], ["tenant_id", 4], ["created_at", "2019-11-06 23:33:17.037541"], ["updated_at", "2019-11-06 23:33:17.037541"]]
MILIA >>>>> [change tenant] new: 4	old: %
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jim@example.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "skip_confirm_change_password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "jim@example.com"], ["encrypted_password", "$2a$11$aeMCsEEYLSmM6aujhOY0huTh5H68vfMycWikk0piWMTUhdhv1O13u"], ["confirmation_token", "b7ePWKyV_pVSQnqswQ8o"], ["confirmation_sent_at", "2019-11-06 23:33:17.146507"], ["skip_confirm_change_password", "t"], ["created_at", "2019-11-06 23:33:17.146435"], ["updated_at", "2019-11-06 23:33:17.146435"]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "tenants_users" ON "users"."id" = "tenants_users"."user_id" WHERE (users.tenant_id IS NULL) AND "tenants_users"."tenant_id" = ? AND "users"."id" = ? LIMIT ?[0m  [["tenant_id", 4], ["id", 4], ["LIMIT", 1]]
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "jim@example.com"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "id" = ?, "email" = ?, "encrypted_password" = ?, "confirmation_token" = ?, "confirmation_sent_at" = ?, "skip_confirm_change_password" = ?, "created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["id", 4], ["email", "jim@example.com"], ["encrypted_password", "$2a$11$aeMCsEEYLSmM6aujhOY0huTh5H68vfMycWikk0piWMTUhdhv1O13u"], ["confirmation_token", "b7ePWKyV_pVSQnqswQ8o"], ["confirmation_sent_at", "2019-11-06 23:33:17.146507"], ["skip_confirm_change_password", "t"], ["created_at", "2019-11-06 23:33:17.146435"], ["updated_at", "2019-11-06 23:33:17.146435"], ["id", 4]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tenants_users" ("tenant_id", "user_id") VALUES (?, ?)[0m  [["tenant_id", 4], ["user_id", 4]]
MILIA >>>>> [register user/org] devise: signup user success - 
Redirected to http://localhost:3001/
MILIA >>>>> [register user/org] signup user/tenant success - 
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "members" ("tenant_id", "user_id", "first_name", "last_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["tenant_id", 4], ["user_id", 4], ["first_name", "Admin"], ["last_name", "Please edit me"], ["created_at", "2019-11-06 23:33:17.172137"], ["updated_at", "2019-11-06 23:33:17.172137"]]
  [1m[36mMember Load (0.1ms)[0m  [1m[34mSELECT  "members".* FROM "members" WHERE (members.tenant_id = 4) AND "members"."user_id" = ? LIMIT ?[0m  [["user_id", 4], ["LIMIT", 1]]
  [1m[35m (5.0ms)[0m  [1m[36mcommit transaction[0m
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/devise-4.7.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/devise-4.7.1/app/views/devise/mailer/confirmation_instructions.html.erb (0.5ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 128.3ms
Sent mail to jim@example.com (6.0ms)
Date: Wed, 06 Nov 2019 17:33:17 -0600
From: do-not-reply@example.com
Reply-To: do-not-reply@example.com
To: jim@example.com
Message-ID: <5dc3583d4d04d_26392b1136232428823cb@siren02.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome jim@example.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3001/users/confirmation?confirmation_token=b7ePWKyV_pVSQnqswQ8o">Confirm my account</a></p>

Completed 302 Found in 1727ms (ActiveRecord: 7.1ms)


Started GET "/" for ::1 at 2019-11-06 17:33:17 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 168ms (Views: 166.4ms | ActiveRecord: 0.0ms)


Started GET "/users/confirmation?confirmation_token=b7ePWKyV_pVSQnqswQ8o" for ::1 at 2019-11-06 17:33:32 -0600
Processing by ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"b7ePWKyV_pVSQnqswQ8o"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."confirmation_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["confirmation_token", "b7ePWKyV_pVSQnqswQ8o"], ["LIMIT", 1]]
MILIA >>>>> [confirm user] devise pass-thru - jim@example.com
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."confirmation_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["confirmation_token", "b7ePWKyV_pVSQnqswQ8o"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmed_at", "2019-11-06 23:33:32.304548"], ["updated_at", "2019-11-06 23:33:32.305348"], ["id", 4]]
  [1m[35m (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 4]]
MILIA >>>>> [change tenant] new: 4	old: %
Redirected to http://localhost:3001/
Completed 302 Found in 28ms (ActiveRecord: 4.4ms)


Started GET "/" for ::1 at 2019-11-06 17:33:32 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 4	old:4
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 4]]
  Rendered projects/_list.html.erb (4.3ms)
  Rendered home/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 113ms (Views: 103.8ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 17:33:39 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"t43ggjf9FRIBTmMakj7EmXb3fLX8cGLPLqBoWVcGzo1vqM4NQJeojqT1g1Goz1b93ZQkZ9hlGnZGplqgvqliMA=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2019-11-06 17:33:39 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 90ms (Views: 89.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2019-11-06 17:33:41 -0600
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 98ms (Views: 96.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2019-11-06 17:33:45 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AdCm35LJwS+dpj1UrNBxnjbeE9t8P+AFs8bf2c9v528EwkHw9LwBEUugvNUz0mUvSdhHmQOpkjPdxvPu0Jidlw==", "user"=>{"email"=>"jim@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "jim@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 117ms (ActiveRecord: 0.5ms)


Started GET "/" for ::1 at 2019-11-06 17:33:45 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 4], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 4	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 4]]
  Rendered projects/_list.html.erb (2.5ms)
  Rendered home/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 96ms (Views: 91.3ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-06 17:33:48 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"KRIq/yXJfQA1IkvmjGxj/prrwebENExTdz1GWwPWVj32vJaIdJHVxOiwPfeVRGLsqwM1pzqu6ayBjtNMAF09Ng=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: 4
MILIA >>>>> [reset tenant] 
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2019-11-06 17:33:48 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 89ms (Views: 87.8ms | ActiveRecord: 0.0ms)


Started GET "/plan/edit" for ::1 at 2019-11-06 17:46:31 -0600
  
ActionController::RoutingError (uninitialized constant TenantsController):
  
activesupport (5.0.7.2) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.7.2) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.7.2) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.7.2) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.7.2) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.7.2) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:727:in `call'
warden (1.2.8) lib/warden/manager.rb:36:in `block in call'
warden (1.2.8) lib/warden/manager.rb:34:in `catch'
warden (1.2.8) lib/warden/manager.rb:34:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.7.2) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [54 times] (6.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (18.9ms)
Started GET "/plan/edit" for ::1 at 2019-11-06 17:47:21 -0600
Processing by TenantsController#edit as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2019-11-06 17:47:21 -0600
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 177ms (Views: 159.4ms | ActiveRecord: 0.5ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 17:47:22 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [54 times] (6.2ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (16.1ms)
Started GET "/users/sign_in" for ::1 at 2019-11-06 17:47:38 -0600
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (12.1ms)
Completed 200 OK in 99ms (Views: 97.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2019-11-06 17:47:43 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tdIJwjVaEkAqlmLJaSEzj6vZKpGxLUpQvd+vKAmas7AdqXhe52XdtC9+faNG/SpWNlfzdq/DVs7VpsmPhCmC7w==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/plan/edit
Completed 302 Found in 118ms (ActiveRecord: 0.9ms)


Started GET "/plan/edit" for ::1 at 2019-11-06 17:47:43 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
Completed 406 Not Acceptable in 23ms (ActiveRecord: 0.8ms)


  
ActionController::UnknownFormat (TenantsController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.0.7.2) lib/action_controller/metal/implicit_render.rb:56:in `default_render'
actionpack (5.0.7.2) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.0.7.2) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.0.7.2) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.0.7.2) lib/abstract_controller/base.rb:188:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.0.7.2) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:126:in `call'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:455:in `call'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:101:in `__run_callbacks__'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7.2) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.7.2) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (5.0.7.2) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.7.2) lib/abstract_controller/base.rb:126:in `process'
actionview (5.0.7.2) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.7.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.7.2) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:727:in `call'
warden (1.2.8) lib/warden/manager.rb:36:in `block in call'
warden (1.2.8) lib/warden/manager.rb:34:in `catch'
warden (1.2.8) lib/warden/manager.rb:34:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.7.2) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (1.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.4ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (8.6ms)
Started GET "/plan/edit" for ::1 at 2019-11-06 17:48:16 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
Completed 406 Not Acceptable in 19ms (ActiveRecord: 0.4ms)


  
ActionController::UnknownFormat (TenantsController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.0.7.2) lib/action_controller/metal/implicit_render.rb:56:in `default_render'
actionpack (5.0.7.2) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.0.7.2) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.0.7.2) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.0.7.2) lib/abstract_controller/base.rb:188:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.0.7.2) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:126:in `call'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:455:in `call'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:101:in `__run_callbacks__'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7.2) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.7.2) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.7.2) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.7.2) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.0.7.2) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (5.0.7.2) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.7.2) lib/abstract_controller/base.rb:126:in `process'
actionview (5.0.7.2) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.7.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.7.2) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7.2) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7.2) lib/action_dispatch/routing/route_set.rb:727:in `call'
warden (1.2.8) lib/warden/manager.rb:36:in `block in call'
warden (1.2.8) lib/warden/manager.rb:34:in `catch'
warden (1.2.8) lib/warden/manager.rb:34:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.7.2) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (1.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.4ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (8.7ms)
Started GET "/plan/edit" for ::1 at 2019-11-06 17:49:19 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: 1	old: %
  Rendering tenants/edit.html.erb within layouts/application
  Rendered tenants/edit.html.erb within layouts/application (0.2ms)
Completed 200 OK in 95ms (Views: 91.4ms | ActiveRecord: 0.4ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-06 17:49:20 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [54 times] (7.0ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (20.0ms)
Started GET "/plan/edit" for ::1 at 2019-11-07 09:04:06 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 4
  Rendering tenants/edit.html.erb within layouts/application
  Rendered tenants/edit.html.erb within layouts/application (277.5ms)
Completed 500 Internal Server Error in 297ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined local variable or method `update_plan_path' for #<#<Class:0x00007fbbfa5d9950>:0x00007fbbfa5df738>
Did you mean?  update_user_confirmation_path):
    2:   Stripe.setPublishableKey("<%= File.open('/home/srlane/Notes/stripe-pub-key').read %>");
    3: </script>
    4: 
    5: <%= form_for @tenant, url: update_plan_path,
    6:     html: {class: "#{class_name_for_tenant_form(@tenant)}"} do |f| %>
    7:   <div class="form-group col-md-6 no-left-padding">
    8:     <%= f.label :name, 'Organization' %>
  
app/views/tenants/edit.html.erb:5:in `_app_views_tenants_edit_html_erb__1834449256782463421_70222668027120'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (10.2ms)
Started GET "/plan/edit" for ::1 at 2019-11-07 09:05:22 -0600
  
SyntaxError (/home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/routes.rb:25: syntax error, unexpected '[', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...e' => 'tenants#update', via: :[:put, :patch], as: :update_pl...
...                              ^):
  
config/routes.rb:25: syntax error, unexpected '[', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (14.4ms)
Started GET "/plan/edit" for ::1 at 2019-11-07 09:05:41 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  Rendering tenants/edit.html.erb within layouts/application
  Rendered tenants/edit.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `payment' for nil:NilClass):
    3: </script>
    4: 
    5: <%= form_for @tenant, url: update_plan_path,
    6:     html: {class: "#{class_name_for_tenant_form(@tenant)}"} do |f| %>
    7:   <div class="form-group col-md-6 no-left-padding">
    8:     <%= f.label :name, 'Organization' %>
    9:     <span class='description'>(Unique name for your group or organization for the new account)</span>
  
app/helpers/application_helper.rb:40:in `class_name_for_tenant_form'
app/views/tenants/edit.html.erb:6:in `_app_views_tenants_edit_html_erb__1834449256782463421_70222657988680'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (14.7ms)
Started GET "/plan/edit" for ::1 at 2019-11-07 09:06:43 -0600
  
ActionController::RoutingError (undefined method `beofe_action' for TenantsController:Class
Did you mean?  before_action):
  
app/controllers/tenants_controller.rb:2:in `<class:TenantsController>'
app/controllers/tenants_controller.rb:1:in `<top (required)>'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (6.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (18.6ms)
Started GET "/plan/edit" for ::1 at 2019-11-07 09:06:55 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering tenants/edit.html.erb within layouts/application
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."tenant_id" = ? LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  Rendered tenants/edit.html.erb within layouts/application (3.6ms)
Completed 200 OK in 114ms (Views: 79.9ms | ActiveRecord: 1.4ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:06:56 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (7.1ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (17.7ms)
Started GET "/plan/edit" for ::1 at 2019-11-07 09:10:08 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering tenants/edit.html.erb within layouts/application
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."tenant_id" = ? LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  Rendered tenants/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 113ms (Views: 108.6ms | ActiveRecord: 0.8ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:10:09 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (7.9ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.8ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (19.8ms)
Started GET "/plan/edit" for ::1 at 2019-11-07 09:22:51 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering tenants/edit.html.erb within layouts/application
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."tenant_id" = ? LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  Rendered tenants/edit.html.erb within layouts/application (6.7ms)
Completed 200 OK in 127ms (Views: 106.6ms | ActiveRecord: 1.5ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:22:52 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.6ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (8.0ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.7ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (19.2ms)
Started PATCH "/plan/update" for ::1 at 2019-11-07 09:23:22 -0600
Processing by TenantsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yuyfY/HSXwkLdfpCtUzsy9TOaFfZj/eleez9TC2gE3/hJDFPI5rqmxOyNycb/FKM1B2dj/4+tyIWZsrYLHEa+Q==", "tenant"=>{"name"=>"Test Company LLC", "plan"=>"premium"}, "payment"=>{"card_expires_month"=>"7", "card_expires_year"=>"2023", "token"=>"tok_1FcCpSKcq08y3n4bRJikqWZy"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? AND ("tenants"."id" != ?) LIMIT ?[0m  [["name", "Test Company LLC"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "tenants" SET "plan" = ?, "updated_at" = ? WHERE "tenants"."id" = ?[0m  [["plan", "premium"], ["updated_at", "2019-11-07 15:23:22.870715"], ["id", 1]]
  [1m[36mPayment Load (0.0ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."tenant_id" = ? LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "payments" ("token", "tenant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["token", "tok_1FcCpSKcq08y3n4bRJikqWZy"], ["tenant_id", 1], ["created_at", "2019-11-07 15:23:24.110091"], ["updated_at", "2019-11-07 15:23:24.110091"]]
  [1m[35m (4.9ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/plan/edit
Completed 302 Found in 1250ms (ActiveRecord: 5.7ms)


Started GET "/plan/edit" for ::1 at 2019-11-07 09:23:24 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering tenants/edit.html.erb within layouts/application
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."tenant_id" = ? LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  Rendered tenants/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 110ms (Views: 105.6ms | ActiveRecord: 0.8ms)


Started GET "/" for ::1 at 2019-11-07 09:23:36 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (6.6ms)
  Rendered home/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 95ms (Views: 89.7ms | ActiveRecord: 1.0ms)


Started GET "/plan/edit" for ::1 at 2019-11-07 09:23:48 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering tenants/edit.html.erb within layouts/application
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."tenant_id" = ? LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  Rendered tenants/edit.html.erb within layouts/application (2.2ms)
Completed 200 OK in 120ms (Views: 114.6ms | ActiveRecord: 0.9ms)


Started PATCH "/plan/update" for ::1 at 2019-11-07 09:24:09 -0600
Processing by TenantsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DLJPrDWqk6mWwMrqb9JbzcH4K1ryNUY50fbolkY/h+AneuGA5+ImO44HB4/BYuWKwSvegtWEBr6+fN8CR+6OZg==", "tenant"=>{"name"=>"Test Company LLC", "plan"=>"free"}, "commit"=>"Update Plan"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTenant Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "tenants" WHERE "tenants"."name" = ? AND ("tenants"."id" != ?) LIMIT ?[0m  [["name", "Test Company LLC"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "tenants" SET "plan" = ?, "updated_at" = ? WHERE "tenants"."id" = ?[0m  [["plan", "free"], ["updated_at", "2019-11-07 15:24:09.881436"], ["id", 1]]
  [1m[35m (5.9ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/plan/edit
Completed 302 Found in 12ms (ActiveRecord: 6.6ms)


Started GET "/plan/edit" for ::1 at 2019-11-07 09:24:09 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering tenants/edit.html.erb within layouts/application
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."tenant_id" = ? LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  Rendered tenants/edit.html.erb within layouts/application (2.2ms)
Completed 200 OK in 85ms (Views: 81.3ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2019-11-07 09:24:16 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:4
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (3.8ms)
  Rendered home/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 100ms (Views: 95.9ms | ActiveRecord: 0.7ms)


Started GET "/plan/edit" for ::1 at 2019-11-07 09:24:22 -0600
Processing by TenantsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ?[0m  [["user_id", 1]]
MILIA >>>>> [change tenant] new: 1	old: 1
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering tenants/edit.html.erb within layouts/application
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."tenant_id" = ? LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  Rendered tenants/edit.html.erb within layouts/application (2.0ms)
Completed 200 OK in 101ms (Views: 95.9ms | ActiveRecord: 0.7ms)


Started DELETE "/users/sign_out" for ::1 at 2019-11-07 09:24:24 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"euQRSbDka4eE8jIVjFBqGPVQFcMU2OuzKClXrCVtjmpRLL9lYqzeFZw1/3Ai4NRf9YPgGzNpqzRHo2A4JLyH7A=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: 1
MILIA >>>>> [reset tenant] 
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2019-11-07 09:24:24 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 78ms (Views: 77.8ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payments_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payments_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddIsAdminToUsers (20191107152852)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "is_admin" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191107152852"]]
  [1m[35m (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payments_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payments_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
Started GET "/" for ::1 at 2019-11-07 09:32:37 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 317ms (Views: 306.8ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:32:38 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.6ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (7.3ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (9.0ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (26.1ms)
Started GET "/" for ::1 at 2019-11-07 09:33:07 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 78ms (Views: 76.6ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:33:08 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.6ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (6.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (19.0ms)
Started GET "/" for ::1 at 2019-11-07 09:35:15 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  Rendered common/_navbar.html.erb (0.7ms)
Completed 200 OK in 93ms (Views: 92.1ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:35:16 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (8.0ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (18.7ms)
Started GET "/" for ::1 at 2019-11-07 09:37:40 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
  Rendered common/_navbar.html.erb (0.6ms)
Completed 200 OK in 109ms (Views: 108.0ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:37:41 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (17.1ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (44.1ms)
Started GET "/" for ::1 at 2019-11-07 09:40:31 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  Rendered common/_navbar.html.erb (1.0ms)
Completed 200 OK in 160ms (Views: 159.2ms | ActiveRecord: 0.0ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:40:31 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.6ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (6.5ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.8ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (19.8ms)
Started GET "/users/sign_in" for ::1 at 2019-11-07 09:40:38 -0600
Processing by Milia::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (27.4ms)
  Rendered common/_navbar.html.erb (1.1ms)
Completed 200 OK in 144ms (Views: 135.3ms | ActiveRecord: 0.7ms)


Started POST "/users/sign_in" for ::1 at 2019-11-07 09:40:43 -0600
Processing by Milia::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EX2PFKfZQ1CoeiWXE2cesVUnHrcT5k4+GFo0tWl7S5bo56QsIg3rYhROpgGE27E3jh8bk6g2EvNo9jOF0t5lzQ==", "user"=>{"email"=>"scott@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "scott@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3001/
Completed 302 Found in 107ms (ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2019-11-07 09:40:43 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (8.8ms)
  Rendered home/index.html.erb within layouts/application (9.3ms)
  Rendered common/_navbar.html.erb (0.7ms)
Completed 200 OK in 137ms (Views: 94.7ms | ActiveRecord: 1.5ms)


Started GET "/" for ::1 at 2019-11-07 09:41:19 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (4.3ms)
  Rendered home/index.html.erb within layouts/application (5.1ms)
  Rendered common/_navbar.html.erb (1.1ms)
Completed 200 OK in 106ms (Views: 101.2ms | ActiveRecord: 0.7ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:41:20 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (6.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.5ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (17.9ms)
Started GET "/" for ::1 at 2019-11-07 09:44:00 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:%
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (2.9ms)
  Rendered home/index.html.erb within layouts/application (3.4ms)
  Rendered common/_navbar.html.erb (0.8ms)
Completed 200 OK in 109ms (Views: 103.9ms | ActiveRecord: 0.7ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:44:01 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (7.8ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (18.1ms)
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (users.tenant_id IS NULL)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (10.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_admin" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2019-11-07 15:45:11.451081"], ["is_admin", "t"], ["id", 1]]
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for ::1 at 2019-11-07 09:45:27 -0600
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTenant Load (0.2ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" INNER JOIN "tenants_users" ON "tenants"."id" = "tenants_users"."tenant_id" WHERE (tenants.tenant_id IS NULL) AND "tenants_users"."user_id" = ? ORDER BY "tenants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
MILIA >>>>> [Tenant#change_tenant] new: 1	old:1
  [1m[36mTenant Load (0.1ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "tenants".* FROM "tenants" WHERE (tenants.tenant_id IS NULL) AND "tenants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "projects" WHERE "projects"."tenant_id" = ? LIMIT ?) subquery_for_count[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT  "projects".* FROM "projects" WHERE "projects"."tenant_id" = ? ORDER BY "projects"."id" ASC LIMIT ?[0m  [["tenant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" WHERE "projects"."tenant_id" = ?[0m  [["tenant_id", 1]]
  Rendered projects/_list.html.erb (2.4ms)
  Rendered home/index.html.erb within layouts/application (2.9ms)
  Rendered common/_navbar.html.erb (1.0ms)
Completed 200 OK in 111ms (Views: 106.6ms | ActiveRecord: 0.6ms)


Started GET "/images/favicon.ico" for ::1 at 2019-11-07 09:45:28 -0600
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
actionpack (5.0.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7.2) lib/rails/engine.rb:522:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.5ms)
  Rendered collection of /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (7.1ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.6ms)
  Rendering /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/srlane/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionpack-5.0.7.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (17.1ms)
Started DELETE "/users/sign_out" for ::1 at 2019-11-07 09:45:45 -0600
Processing by Milia::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vZ/q+7tA+4jHLZXCDjk52RJrpvD4WEfIwlfR2fq0pNJG3hBSVKRXo2bM6H+sFqnmxw/Tmirca4GyHgrargRCeA=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (users.tenant_id IS NULL) AND "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
MILIA >>>>> [change tenant] new: %	old: %
MILIA >>>>> [reset tenant] 
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3001/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2019-11-07 09:45:45 -0600
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.9ms)
  Rendered common/_navbar.html.erb (1.4ms)
Completed 200 OK in 116ms (Views: 115.6ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in <module:DevisePermittedParameters> at /home/srlane/Notes/ruby-projects/rails-projects/saas-project/config/initializers/devise_permitted_parameters.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUserProjects (20191107154733)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "user_projects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "project_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_user_projects_on_project_id" ON "user_projects" ("project_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_user_projects_on_project_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_user_projects_on_project_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_user_projects_on_user_id" ON "user_projects" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191107154733"]]
  [1m[35m (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_artifacts_on_project_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_members_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_members_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payments_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payments_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_projects_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_updated_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sessions_on_session_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sessions_on_session_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_on_tenant_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tenants_users_on_tenant_id_and_user_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_user_projects_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_user_projects_on_user_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_user_projects_on_project_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_user_projects_on_project_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_tenant_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_tenant_id' AND type='index'
[0m
